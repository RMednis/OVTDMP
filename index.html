<html>
<head>
  <title> OVT Stundu Saraksts </title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="pure-css-select-style.css"> <!-- Yes, we do load an additional stylesheet just for the select menu -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- It's responsive! -->
    <meta name="description" content="Neoficiāls Ogres Valsts Tehnikuma (OVT) stundu saraksts, kas redzams arī uz mobīlām ierīcēm, un ierīcēm bez flash player. Izmantojiet šo sarakstu uz paša atbildību, tas ir domāts kā papildinājums parastajam OVT stundu sarakstam!">
    <meta charset="utf-8"> <!-- Firefox fails to display characters correctly without this -->
    <body onload="javascript:imgcreator();"> <!-- Calls imgcreator to load initial alert image -->
<!-- Favicons -->
    <link rel="icon" type="image/png" sizes="192x192"  href="https://mednis.id.lv/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://mednis.id.lv/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://mednis.id.lv/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://mednis.id.lv/favicon-16x16.png">
</head>
<body>
<div class="pure-css-select-style theme-default">
  <select id="timetableselect" onchange="imgcreator()">
    <option hidden value="0">Rest In Peace, TimeTableDump!</option> <!-- People seem to ignore this -->
  </select>
</div>


<img id=table class="main" src="none">
<h3></h3>
<!-- Disclaimer -->
<h1>Reinis Gunārs Mednis 2020 mednis.id.lv</h1>
<p>Šī lapa bija domāta kā papildinājums parastajam <a href="http://www.ovt.lv/stundas/stundu_saraksts/index.html">OVT stundu sarakstam</a>, vienmēr pārbaudiet to.</p>
<p>Stundu saraksta pareizība <b>nav garantēta...</b></p>
<p> Es neesmu atbildīgs par jebkādām problēmām ko šī lapa var radīt. <b>Izmantojiet to uz paša atbildību!</b></p> 
<a href='https://mednis.id.lv/OVTDMP/teachers'><button class="button">Pasniedzēju stundu saraksts</button></a>
<!-- Scripts -->
<!-- Load main image script -->
<script>
function imgcreator(){

	console.log('Rest in peace TimeTableDump, and thank you for the 2,5 awesome years!');
	console.log("They say an end is just the beggining of something greater... let's see...");

	// This thing converts the select option id's into actual URL's
  var e = document.getElementById("timetableselect");
	var img = e.options[e.selectedIndex].value; // Gets the selected value from the dropdown
  var kurss = 0; //getCookie("kurss"); // Retrieves data from cookies
    if (img !== 0) {
			document.getElementById("table").src =
			"https://mednis.id.lv/OVTDMP/timetables/" + img + ".png";
      setCookie("kurss",img,"14"); // Loads image if selected from dropdown
      }
    if (img == 0) { // Checks to make sure you haven't selected anything else!
        if (kurss !==0) {
          document.getElementById("table").src = "https://mednis.id.lv/OVTDMP/timetables/" + kurss +".png"; // Loads image if stored in cookies 
          setCookie("kurss",kurss,"14")
       }
        if (kurss == 0) {
           document.getElementById("table").src = "https://mednis.id.lv/OVTDMP/Alert.png"; // This is apperently needed since people seem to ignore the top bar.... Retrieves an explination image on first run (or after 2 weeks of not visiting)
        } 
      }
    }
</script>
<script type="text/javascript">
  // Yumm... Cookies! But seriosly this thing stores and retrives the selected class to/from a cookie file!
  function setCookie(cname, cvalue, exdays) { // Self explanitory... Sets cookie file...
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires="+ d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}
  function getCookie(cname) { // Also self explanitory... Pulls value from cookie file...
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
</script>
<!-- That's all folks! -->
</body>
